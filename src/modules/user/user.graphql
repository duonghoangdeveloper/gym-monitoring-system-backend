type User {
  _id: ID!

  # Authorization
  username: String!
  role: Role!

  # Personal info
  displayName: String
  gender: Gender
  email: String
  phone: String
  avatar: File

  # Timestamp
  createdAt: String!
  updatedAt: String!
}

type Query {
  auth: User!
  users: Users!
}

type Mutation {
  signUp(data: SignUpInput!): UserAuthPayload!
  signIn(data: SignInInput!): UserAuthPayload!
  signOut: User!
  signOutAll: User!
  createUser(data: CreateUserInput!): User!
  updateProfile(data: UpdateProfileInput): User!
  updateUser(_id: ID!, data: UpdateUserInput): User!
  deleteUser(_id: ID!): User!
  updatePassword(data: UpdatePasswordInput): User!
}

type Users {
  data: [User!]!
  total: Int!
}

type UserAuthPayload {
  data: User!
  token: String!
}

input UpdatePasswordInput {
  oldPassword: String!
  newPassword: String!
}

input UsersQueryInput {
  skip: Int
  limit: Int
  sort: UsersSortInput
  search: UsersSearchInput
  filter: UsersFilterInput
}

input UsersSortInput {
  username: SortOrder
  displayName: SortOrder
  createdAt: SortOrder
  updatedAt: SortOrder
}

input UsersSearchInput {
  username: String
  displayName: String
}

input UsersFilterInput {
  role: [Role!]
}

input CreateUserInput {
  username: String!
  password: String!
  gender: Gender
  email: String
  phone: String
}

input UpdateProfileInput {
  username: String
  displayName: String
}

input UpdateUserInput {
  role: Role
  email: String
  phone: String
}

input SignInInput {
  username: String!
  password: String!
}

input SignUpInput {
  username: String!
  password: String!
}

enum Role {
  TRAINEE
  TRAINER
  GYM_MANAGER
  GYM_OWNER
  SYSTEM_ADMIN
}

enum Gender {
  MALE
  FEMALE
  OTHER
}
